{"ast":null,"code":"import { ref } from \"vue\";\nimport axios from \"axios\";\nimport { useRoute } from 'vue-router';\nexport default {\n  setup() {\n    const course = ref();\n    const route = useRoute();\n    const courseId = route.params.id;\n    const getCourse = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8087/api/course/\" + courseId);\n        course.value = res.data.data;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getCourse();\n    return {\n      course\n    };\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString(\"vi-VN\");\n    },\n    submitFormEvaluation() {\n      const inputElement = this.$refs.evaluationInput;\n      if (inputElement) {\n        this.formData.courseId = inputElement.id;\n      }\n    },\n    async insertEvaluation() {\n      try {\n        await axios.post(\"http://localhost:8087/api/evaluation\", this.formData);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  data() {\n    return {\n      formData: {\n        courseID: '',\n        comment: '',\n        rate: 1,\n        userID: 1\n      }\n    };\n  },\n  watch: {},\n  name: \"DetailCourse\",\n  components: {}\n};","map":{"version":3,"names":["ref","axios","useRoute","setup","course","route","courseId","params","id","getCourse","res","get","value","data","error","console","log","methods","formatPrice","price","toLocaleString","submitFormEvaluation","inputElement","$refs","evaluationInput","formData","insertEvaluation","post","courseID","comment","rate","userID","watch","name","components"],"sources":["F:\\VueJS\\thaylam\\Elearning\\src\\components\\client\\DetailCourseScreen.vue"],"sourcesContent":["<template>\n  <div v-if=\"course\" class=\"max-w-screen-lg m-auto px-3 my-10 flex flex-col gap-7\">\n    <div class=\"w-full\">\n      <div class=\"rounded-lg flex flex-col gap-3\">\n        <div class=\"w-detail\">\n          <h1 class=\"text-gray-700 font-semibold text-xl\">{{ course.title }}</h1>\n\n          <div class=\"flex justify-between gap-3 mt-2\">\n            <p class=\"text-gray-400\">\n              <i class=\"fa-regular fa-clock\"></i>{{ course.createdAt }}\n            </p>\n            <p class=\"text-gray-400\">\n              Tác giả: <label for=\"\" class=\"font-semibold text-black\">EvonDev</label>\n            </p>\n          </div>\n        </div>\n\n        <div class=\"w-full flex justify-between gap-10\">\n          <div class=\"flex flex-col w-2/3 gap-2 bg-white rounded-xl shadow-md overflow-hidden\">\n            <img\n              class=\"object-cover\"\n              :src=\"course.urlImage\"\n              alt=\"\"\n            />\n            <div class=\"flex pb-2 pl-3 justify-around px-\">\n              <img\n                v-for=\"image in course.courseImages\"\n                :key=\"image.id\"\n                class=\"w-24 h-24 rounded-xl object-cover\"\n                :src=\"image.urlImage\"\n                alt=\"\"\n              />\n            </div>\n          </div>\n\n          <div class=\"w-1/3 bg-white shadow-md border border-gray-200 rounded-lg p-5\">\n            <h1 class=\"font-semibold text-xl text-red-600\">\n              {{ formatPrice(course.price) }}đ\n            </h1>\n            <div  class=\"w-full flex justify-between mt-3\">\n              <h3 class=\"line-through text-gray-400 font-semibold\">{{ formatPrice(course.price - (course.price * (course.reduce / 100))) }}đ</h3>\n              <p  class=\"bg-red-800 py-1 rounded-lg px-2 text-white text-sm text-center\">\n                Giảm giá {{course.reduce}}%\n              </p>\n            </div>\n\n            <form action=\"\" class=\"flex flex-col gap-5 mt-5\">\n              <input\n                type=\"text\"\n                placeholder=\"Tên của bạn\"\n                class=\"rounded-lg border border-gray-100 text-sm py-2 px-2 outline-none\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                class=\"rounded-lg border border-gray-100 text-sm py-2 px-2 outline-none\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Số điện thoại\"\n                class=\"rounded-lg border border-gray-100 text-sm py-2 px-2 outline-none\"\n              />\n\n              <input\n                type=\"submit\"\n                value=\"ĐĂNG KÝ\"\n                class=\"bg-gray-700 text-white rounded-lg py-2 font-medium cursor-pointer hover:opacity-70\"\n              />\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex gap-10 w-full bg-white rounded-lg p-5 shadow-md\">\n      <div class=\"w-2/3\">\n        <p class=\"text-sm leading-7 text-slate-600\">{{ course.description }}</p>\n      </div>\n      <div class=\"1/3 mx-auto\">\n        <img\n          class=\"rounded-full w-full h-36 object-cover\"\n          src=\"https://static.kt.city/e0ebee87-aefb-40bf-96a3-9a53986dfc17.jpg\"\n          alt=\"\"\n        />\n      </div>\n    </div>\n\n    <div class=\"bg-white rounded-lg p-5 mt-5 shadow-md\">\n      <h1 class=\"font-semibold text-xl\">\n        <i class=\"fa-solid fa-book pr-2\"></i>NỘI DUNG BÀI HỌC\n      </h1>\n\n      <div class=\"mt-3 flex flex-col gap-5\">\n        <div v-for=\"thematic in course.thematicCourses\" :key=\"thematic.id\">\n          <h1 class=\"bg-slate-600 text-white py-2 px-2\">{{ thematic.name }}</h1>\n\n          <div v-for=\"video in thematic.videoCourses\" :key=\"video.id\" class=\"flex justify-between mt-4 mx-4\">\n            <p class=\"text-gray-600\">\n              <i class=\"fa-regular fa-circle-play pr-2\"></i>{{ video.name }}\n            </p>\n            <p class=\"text-gray-600\">{{ video.duration }}</p>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div>\n      <div class=\"bg-white rounded-lg p-5 mt-5 shadow-md\">\n        <h1 class=\"font-semibold text-xl\">\n          <i class=\"fa-regular fa-comments pr-2\"></i>ĐÁNH GIÁ KHÓA HỌC\n        </h1>\n\n        <form class=\"mt-3\" @submit.prevent=\"submitFormEvaluation\">\n          <div class=\"w-full flex gap-3\">\n            <img\n              class=\"w-12 h-12 rounded-full object-cover\"\n              src=\"https://musicart.xboxlive.com/7/4d4d6500-0000-0000-0000-000000000002/504/image.jpg?w=1920&h=1080\"\n              alt=\"\"\n            />\n            <input\n              v-model=\"formData.comment\" \n              name=\"evaluation\"\n              required\n              type=\"text\"\n              class=\"border-b-slate-200 border-b px-2 bg-transparent w-full outline-none\"\n              placeholder=\"Đánh giá khóa học...\"\n            />\n            \n            <input\n              v-model=\"formData.rate\" \n              :id=\"course.id\"\n              ref=\"evaluationInput\"\n              name=\"evaluation\"\n              required\n              type=\"number\"\n              min=\"1\"\n              class=\"border-b-slate-200 border-b px-2 bg-transparent w-full outline-none\"\n              placeholder=\"Điểm: 1/10\"\n            />\n            <input\n              type=\"submit\"\n              value=\"Bình luận\"\n              class=\"hover:opacity-70 cursor-pointer bg-slate-700 text-white rounded-lg px-3\"\n            />\n          </div>\n        </form>\n\n        <div class=\"flex flex-col gap-5 mt-5\">\n          <div class=\"flex gap-3 border-b-slate-200 border-b w-full pb-3 last:border-b-0\" v-for=\"evaluation in course.courseEvaluations\" :key=\"evaluation.id\">\n            <div>\n              <img\n                class=\"w-10 h-10 rounded-full object-cover\"\n                src=\"https://musicart.xboxlive.com/7/4d4d6500-0000-0000-0000-000000000002/504/image.jpg?w=1920&h=1080\"\n                alt=\"\"\n              />\n            </div>\n\n            <div class=\"flex flex-col gap-1\">\n              <p class=\"font-semibold text-sm\">Nguyễn quốc anh</p>\n              <p class=\"text-sm text-gray-400 text-sm\">\n                <i class=\"fa-regular fa-clock pr-2\"></i>{{ evaluation.createdAt }}\n              </p>\n              <p class=\"bg-transparent w-full outline-none text-sm text-slate-600\">\n                {{ evaluation.comment }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <p v-else>Loading...</p>\n</template>\n\n<script>\n  import { ref } from \"vue\";\n  import axios from \"axios\";\n  import { useRoute } from 'vue-router';\n\n  export default {\n    setup(){\n      const course = ref();\n      const route = useRoute();\n      const courseId = route.params.id;\n\n      const getCourse = async () => {\n\n        try {\n          const res = await axios.get(\"http://localhost:8087/api/course/\" + courseId);\n\n          course.value = res.data.data;\n\n        } catch (error) {\n          console.log(error);\n        }\n    }\n\n    getCourse();\n\n    return {\n      course\n    }\n    },\n    methods: {\n      formatPrice(price) {\n        return price.toLocaleString(\"vi-VN\");\n      },\n      submitFormEvaluation(){\n        const inputElement = this.$refs.evaluationInput;\n        if (inputElement) {\n          this.formData.courseId = inputElement.id;\n        }\n      },\n      async insertEvaluation() {\n        try\n        {\n          await axios.post(\"http://localhost:8087/api/evaluation\", this.formData);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    data() {\n      return {\n        formData: {\n          courseID: '',\n          comment: '',\n          rate: 1,\n          userID: 1\n        },\n      };\n    },\n    watch: {},\n    name: \"DetailCourse\",\n    components: {},\n  };\n</script>\n"],"mappings":"AAgLE,SAASA,GAAE,QAAS,KAAK;AACzB,OAAOC,KAAI,MAAO,OAAO;AACzB,SAASC,QAAO,QAAS,YAAY;AAErC,eAAe;EACbC,KAAKA,CAAA,EAAE;IACL,MAAMC,MAAK,GAAIJ,GAAG,CAAC,CAAC;IACpB,MAAMK,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,QAAO,GAAID,KAAK,CAACE,MAAM,CAACC,EAAE;IAEhC,MAAMC,SAAQ,GAAI,MAAAA,CAAA,KAAY;MAE5B,IAAI;QACF,MAAMC,GAAE,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,mCAAkC,GAAIL,QAAQ,CAAC;QAE3EF,MAAM,CAACQ,KAAI,GAAIF,GAAG,CAACG,IAAI,CAACA,IAAI;MAE9B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACJ;IAEAL,SAAS,CAAC,CAAC;IAEX,OAAO;MACLL;IACF;EACA,CAAC;EACDa,OAAO,EAAE;IACPC,WAAWA,CAACC,KAAK,EAAE;MACjB,OAAOA,KAAK,CAACC,cAAc,CAAC,OAAO,CAAC;IACtC,CAAC;IACDC,oBAAoBA,CAAA,EAAE;MACpB,MAAMC,YAAW,GAAI,IAAI,CAACC,KAAK,CAACC,eAAe;MAC/C,IAAIF,YAAY,EAAE;QAChB,IAAI,CAACG,QAAQ,CAACnB,QAAO,GAAIgB,YAAY,CAACd,EAAE;MAC1C;IACF,CAAC;IACD,MAAMkB,gBAAgBA,CAAA,EAAG;MACvB,IACA;QACE,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,sCAAsC,EAAE,IAAI,CAACF,QAAQ,CAAC;MACzE,EAAE,OAAOX,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF;EACF,CAAC;EACDD,IAAIA,CAAA,EAAG;IACL,OAAO;MACLY,QAAQ,EAAE;QACRG,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,CAAC;QACPC,MAAM,EAAE;MACV;IACF,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,CAAC;EACTC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE,CAAC;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}