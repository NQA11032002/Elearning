{"ast":null,"code":"import \"../../../assets/styles/course.scss\";\nimport { ref } from \"vue\";\nimport { parseISO } from \"date-fns\";\nimport axios from \"axios\";\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\nexport default {\n  props: [],\n  setup() {\n    const courses = ref([]);\n    const page = ref(0);\n    const records = 6;\n    const currentDate = new Date();\n    const monthCurrent = currentDate.getMonth() + 1;\n    const yearCurrent = currentDate.getFullYear();\n    const keyword = ref();\n    const priceFrom = ref();\n    const priceTo = ref();\n    const education = ref();\n    const category = ref();\n    const getAllCourses = async () => {\n      try {\n        //get url API\n        const apiObject = findApiByName(\"course\", \"common\").url;\n        console.log(page.value);\n        const res = await axios.get(apiObject, {\n          params: {\n            page: page.value,\n            records: records,\n            search: keyword.value,\n            priceFrom: priceFrom.value,\n            priceTo: priceTo.value,\n            education: education.value,\n            category: category.value\n          }\n        });\n        courses.value = res.data;\n        console.log(courses.value);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const compareDates = date => {\n      const parsedDate = parseISO(date);\n      const monthDate = parsedDate.getMonth() + 1;\n      const yearDate = parsedDate.getFullYear();\n      if (monthDate == monthCurrent && yearDate == yearCurrent) {\n        return \"course__new\";\n      } else {\n        return;\n      }\n    };\n    const prePage = () => {\n      if (page.value > 0) {\n        page.value--;\n        getAllCourses();\n      }\n    };\n    const nextPage = () => {\n      if (page.value < courses.value.totalPage - 1) {\n        page.value++;\n        getAllCourses();\n      }\n    };\n\n    //search course by title\n    const searchCourse = () => {\n      getAllCourses();\n    };\n    const selectedPriceRange = event => {\n      priceFrom.value = event.target.getAttribute(\"data-price_from\");\n      priceTo.value = event.target.getAttribute(\"value\");\n      getAllCourses();\n    };\n    const selectedEducateRange = event => {\n      education.value = event.target.getAttribute(\"value\");\n      getAllCourses();\n    };\n    const selectedCategoryRange = event => {\n      category.value = event.target.getAttribute(\"value\");\n      getAllCourses();\n    };\n    getAllCourses();\n    return {\n      page,\n      keyword,\n      courses,\n      selectedPriceRange,\n      selectedEducateRange,\n      selectedCategoryRange,\n      prePage,\n      nextPage,\n      searchCourse,\n      compareDates\n    };\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  watch: {},\n  name: \"App\",\n  components: {}\n};","map":{"version":3,"names":["ref","parseISO","axios","findApiByName","props","setup","courses","page","records","currentDate","Date","monthCurrent","getMonth","yearCurrent","getFullYear","keyword","priceFrom","priceTo","education","category","getAllCourses","apiObject","url","console","log","value","res","get","params","search","data","error","compareDates","date","parsedDate","monthDate","yearDate","prePage","nextPage","totalPage","searchCourse","selectedPriceRange","event","target","getAttribute","selectedEducateRange","selectedCategoryRange","methods","watch","name","components"],"sources":["F:\\VueJS\\Elearning-Frontend\\Elearning\\src\\components\\client\\courses\\CourseScreen.vue"],"sourcesContent":["<template>\n  <div v-if=\"courses.data != null\" class=\"flex gap-9 container mt-14 mb-14 max-w-screen-2xl mx-auto\">\n    <div class=\"sidebar w-1/5 bg-white  rounded-lg shadow-md\">\n      <div class=\"filters p-5 h-5/6\">\n        <div class=\"filter__container\">\n          <h1 class=\"title text-center font-semibold text-xl\">KHÓA HỌC</h1>\n\n          <div class=\"filter filter__search\">\n            <p>\n              Tìm thấy : <b> {{ courses.data.length }} khóa học</b>\n              {{ keyword != \"\" ? \"theo\" : \"\" }} <b>{{ keyword }}</b>\n            </p>\n            <input type=\"text\" class=\"search__name\" @change=\"searchCourse\" v-model=\"keyword\"\n              placeholder=\"Tìm tên khóa học...\" />\n          </div>\n\n          <div class=\"filter filter__price\">\n            <h2 class=\"font-semibold\">Khoảng giá</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--1\">\n                <input type=\"radio\" id=\"cb__price--1\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"0\" value=\"500000\" />\n                Từ 0 đến 500k\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--2\">\n                <input type=\"radio\" id=\"cb__price--2\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"500001\" value=\"1000000\" />\n                Từ 500k đến 1 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--3\">\n                <input type=\"radio\" id=\"cb__price--3\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"1000000\" value=\"3000000\" />\n                Từ 1 triệu đến 3 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--4\">\n                <input type=\"radio\" id=\"cb__price--4\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"3000000\" value=\"5000000\" />\n                Từ 3 triệu đến 5 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--5\">\n                <input type=\"radio\" id=\"cb__price--5\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"5000000\" value=\"9999999999\" />\n                Trên 5 triệu\n              </label>\n            </div>\n          </div>\n\n          <div class=\"filter filter__education\">\n            <h2 class=\"font-semibold\">Thời gian khóa học</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--1\">\n                <input type=\"radio\" id=\"filter__education--1\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"1\" />\n                Lớp 10\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--2\">\n                <input type=\"radio\" id=\"filter__education--2\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"2\" />\n                Lớp 11\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--3\">\n                <input type=\"radio\" id=\"filter__education--3\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"3\" />\n                Lớp 12\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--4\">\n                <input type=\"radio\" id=\"filter__education--4\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"4\" />\n                Đại học\n              </label>\n            </div>\n          </div>\n\n          <div class=\"filter filter__title\">\n            <h2 class=\"font-semibold\">Khóa học</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--1\">\n                <input type=\"radio\" id=\"filter__title--1\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"1\" />\n                Frontend\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--2\">\n                <input type=\"radio\" id=\"filter__title--2\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"2\" />\n                Backend\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--3\">\n                <input type=\"radio\" id=\"filter__title--3\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"3\" />\n                Google Ads\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--4\">\n                <input type=\"radio\" id=\"filter__title--4\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"4\" />\n                SEO\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--5\">\n                <input type=\"radio\" id=\"filter__title--5\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"5\" />\n                Data Science\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--6\">\n                <input type=\"radio\" id=\"filter__title--6\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"6\" />\n                English\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--7\">\n                <input type=\"radio\" id=\"filter__title--7\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"7\" />\n                Mathematics\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-right w-4/5\">\n\n      <div class=\"courses p-5\">\n        <label class=\"filters flex justify-end font-semibold cursor-pointer\">\n          <i class=\"fa-solid fa-bars pr-2\"></i>\n          Bộ lọc\n        </label>\n\n        <div class=\"cards flex flex-wrap gap-8 mt-5 ml-1\">\n          <a :href=\"'/course/' + course.id\"\n            class=\"course border rounded-md hover:shadow-lg transition-all  flex flex-col w-1/1 gap-4\"\n            v-for=\"course in courses.data\" :key=\"course.id\">\n            <img class=\"image object-cover flex-shrink-0 h-40 w-course\" :src=\"course.courseImages.length > 0\n              ? course.courseImages[0].urlImage\n              : ''\n              \" alt=\"\" />\n\n            <div class=\"card p-3 flex flex-col\">\n              <p class=\"title font-semibold flex-shrink-0 mt-auto\">\n                {{ course.title }}\n              </p>\n\n              <div class=\"card__info flex justify-between flex-1\">\n                <div class=\"card__info--left flex\">\n                  <img class=\"avatar flex-shrink-0\" src=\"../../../assets/images/client/avatars/1.png\" alt=\"\" />\n                  <p class=\"name flex-1 ml-2\">Võ Duy Thanh</p>\n                </div>\n\n                <p class=\"card__info--right flex-shrink-0 cursor-default text-center font-semibold\">{{ course.createdAt }}\n                </p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class=\"more__courses flex justify-center mt-10\">\n          <button @click=\"prePage\" class=\"btn-showMore\">Trước</button>\n          <button @click=\"nextPage\" class=\"btn-collapse ml-3\">Sau</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"../../../assets/styles/course.scss\";\nimport { ref } from \"vue\";\nimport { parseISO } from \"date-fns\";\nimport axios from \"axios\";\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\n\nexport default {\n  props: [],\n  setup() {\n    const courses = ref([]);\n    const page = ref(0);\n    const records = 6;\n    const currentDate = new Date();\n    const monthCurrent = currentDate.getMonth() + 1;\n    const yearCurrent = currentDate.getFullYear();\n    const keyword = ref();\n    const priceFrom = ref();\n    const priceTo = ref();\n    const education = ref();\n    const category = ref();\n\n    const getAllCourses = async () => {\n      try {\n        //get url API\n        const apiObject = findApiByName(\"course\", \"common\").url;\n        console.log(page.value)\n        const res = await axios.get(apiObject, {\n          params: {\n            page: page.value,\n            records: records,\n            search: keyword.value,\n            priceFrom: priceFrom.value,\n            priceTo: priceTo.value,\n            education: education.value,\n            category: category.value,\n          },\n        });\n        courses.value = res.data;\n        console.log(courses.value)\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const compareDates = (date) => {\n      const parsedDate = parseISO(date);\n      const monthDate = parsedDate.getMonth() + 1;\n      const yearDate = parsedDate.getFullYear();\n\n      if (monthDate == monthCurrent && yearDate == yearCurrent) {\n        return \"course__new\";\n      } else {\n        return\n      }\n    };\n\n    const prePage = () => {\n      if (page.value > 0) {\n        page.value--;\n        getAllCourses();\n      }\n    };\n\n    const nextPage = () => {\n      if (page.value < courses.value.totalPage - 1) {\n        page.value++;\n\n        getAllCourses();\n      }\n    };\n\n    //search course by title\n    const searchCourse = () => {\n      getAllCourses();\n    };\n\n    const selectedPriceRange = (event) => {\n      priceFrom.value = event.target.getAttribute(\"data-price_from\");\n      priceTo.value = event.target.getAttribute(\"value\");\n\n      getAllCourses();\n    };\n\n    const selectedEducateRange = (event) => {\n      education.value = event.target.getAttribute(\"value\");\n      getAllCourses();\n    };\n\n    const selectedCategoryRange = (event) => {\n      category.value = event.target.getAttribute(\"value\");\n\n      getAllCourses();\n    };\n    getAllCourses();\n\n    return {\n      page,\n      keyword,\n      courses,\n      selectedPriceRange,\n      selectedEducateRange,\n      selectedCategoryRange,\n      prePage,\n      nextPage,\n      searchCourse,\n      compareDates,\n    };\n  },\n\n  data() {\n    return {};\n  },\n  methods: {},\n  watch: {},\n  name: \"App\",\n  components: {},\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}