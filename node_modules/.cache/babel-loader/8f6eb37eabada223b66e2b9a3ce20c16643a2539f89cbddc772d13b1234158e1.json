{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"../../../assets/styles/course.scss\";\nimport axios from \"axios\";\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\nimport axiosAuth from \"../../../assets/js/axios.js\";\nexport default {\n  props: [],\n  mounted() {\n    this.getAllCourses();\n    async () => {\n      this.courses.forEach(async course => {\n        this.courses.push({\n          ...course,\n          fullName: await this.findCustomer(course.userID)\n        });\n        console.log(this.course);\n      });\n    };\n  },\n  setup() {},\n  data() {\n    return {\n      courses: [],\n      page: 0,\n      records: 6,\n      keyword: null,\n      priceFrom: null,\n      priceTo: null,\n      education: null,\n      category: null\n    };\n  },\n  methods: {\n    async getAllCourses() {\n      try {\n        //get url API\n        const apiObject = findApiByName(\"course\", \"common\").url;\n        const res = await axios.get(apiObject, {\n          params: {\n            page: this.page,\n            records: this.records,\n            search: this.keyword,\n            priceFrom: this.priceFrom,\n            priceTo: this.priceTo,\n            education: this.education,\n            category: this.category\n          }\n        });\n        this.courses = res.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    prePage() {\n      if (this.page > 0) {\n        this.page--;\n        this.getAllCourses();\n      }\n    },\n    nextPage() {\n      if (this.page < this.courses.totalPage - 1) {\n        this.page++;\n        this.getAllCourses();\n      }\n    },\n    //search course by title\n    searchCourse() {\n      this.getAllCourses();\n    },\n    selectedPriceRange(event) {\n      this.priceFrom = event.target.getAttribute(\"data-price_from\");\n      this.priceTo = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    selectedEducateRange(event) {\n      this.education = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    selectedCategoryRange(event) {\n      this.category = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    async findCustomer(userID) {\n      try {\n        const apiObject = findApiByName('customer', 'findCustomerByUserID').url;\n        const res = await axiosAuth.get(apiObject + userID);\n        if (res.status === 200) {\n          return res.data.data.fullName;\n        }\n      } catch (error) {\n        console.error('Error fetching customer:', error);\n      }\n      return ''; // Default value if the request fails\n    }\n  },\n  watch: {},\n  name: \"App\",\n  components: {}\n};","map":{"version":3,"names":["axios","findApiByName","axiosAuth","props","mounted","getAllCourses","courses","forEach","course","push","fullName","findCustomer","userID","console","log","setup","data","page","records","keyword","priceFrom","priceTo","education","category","methods","apiObject","url","res","get","params","search","error","prePage","nextPage","totalPage","searchCourse","selectedPriceRange","event","target","getAttribute","selectedEducateRange","selectedCategoryRange","status","watch","name","components"],"sources":["F:\\VueJS\\Elearning-Frontend\\Elearning\\src\\components\\client\\courses\\CourseScreen.vue"],"sourcesContent":["<template>\n  <div v-if=\"courses.data != null\" class=\"flex gap-9 container mt-14 mb-14 max-w-screen-2xl mx-auto\">\n    <div class=\"sidebar w-1/5 bg-white  rounded-lg shadow-md\">\n      <div class=\"filters p-5 h-5/6\">\n        <div class=\"filter__container\">\n          <h1 class=\"title text-center font-semibold text-xl\">KHÓA HỌC</h1>\n\n          <div class=\"filter filter__search\">\n            <p>\n              Tìm thấy : <b> {{ courses.data.length }} khóa học</b>\n              {{ keyword != \"\" ? \"theo\" : \"\" }} <b>{{ keyword }}</b>\n            </p>\n            <input type=\"text\" class=\"search__name\" @change=\"searchCourse\" v-model=\"keyword\"\n              placeholder=\"Tìm tên khóa học...\" />\n          </div>\n\n          <div class=\"filter filter__price\">\n            <h2 class=\"font-semibold\">Khoảng giá</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--1\">\n                <input type=\"radio\" id=\"cb__price--1\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"0\" value=\"500000\" />\n                Từ 0 đến 500k\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--2\">\n                <input type=\"radio\" id=\"cb__price--2\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"500001\" value=\"1000000\" />\n                Từ 500k đến 1 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--3\">\n                <input type=\"radio\" id=\"cb__price--3\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"1000000\" value=\"3000000\" />\n                Từ 1 triệu đến 3 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--4\">\n                <input type=\"radio\" id=\"cb__price--4\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"3000000\" value=\"5000000\" />\n                Từ 3 triệu đến 5 triệu\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--5\">\n                <input type=\"radio\" id=\"cb__price--5\" name=\"rd_price\" class=\"cb__price mr-2\"\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"5000000\" value=\"9999999999\" />\n                Trên 5 triệu\n              </label>\n            </div>\n          </div>\n\n          <div class=\"filter filter__education\">\n            <h2 class=\"font-semibold\">Thời gian khóa học</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--1\">\n                <input type=\"radio\" id=\"filter__education--1\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"1\" />\n                Lớp 10\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--2\">\n                <input type=\"radio\" id=\"filter__education--2\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"2\" />\n                Lớp 11\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--3\">\n                <input type=\"radio\" id=\"filter__education--3\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"3\" />\n                Lớp 12\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--4\">\n                <input type=\"radio\" id=\"filter__education--4\" class=\"filter__education mr-2\"\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"4\" />\n                Đại học\n              </label>\n            </div>\n          </div>\n\n          <div class=\"filter filter__title\">\n            <h2 class=\"font-semibold\">Khóa học</h2>\n            <div>\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--1\">\n                <input type=\"radio\" id=\"filter__title--1\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"1\" />\n                Frontend\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--2\">\n                <input type=\"radio\" id=\"filter__title--2\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"2\" />\n                Backend\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--3\">\n                <input type=\"radio\" id=\"filter__title--3\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"3\" />\n                Google Ads\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--4\">\n                <input type=\"radio\" id=\"filter__title--4\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"4\" />\n                SEO\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--5\">\n                <input type=\"radio\" id=\"filter__title--5\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"5\" />\n                Data Science\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--6\">\n                <input type=\"radio\" id=\"filter__title--6\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"6\" />\n                English\n              </label>\n\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--7\">\n                <input type=\"radio\" id=\"filter__title--7\" class=\"filter__title mr-2\"\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"7\" />\n                Mathematics\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-right w-4/5\">\n\n      <div class=\"courses p-5\">\n        <label class=\"filters flex justify-end font-semibold cursor-pointer\">\n          <i class=\"fa-solid fa-bars pr-2\"></i>\n          Bộ lọc\n        </label>\n\n        <div class=\"cards flex flex-wrap gap-8 mt-5 ml-1\">\n          <a :href=\"'/course/' + course.id\"\n            class=\"course border rounded-md hover:shadow-lg transition-all  flex flex-col w-1/1 gap-4\"\n            v-for=\"course in courses.data\" :key=\"course.id\">\n            <img class=\"image object-cover flex-shrink-0 h-40 w-course\" :src=\"course.courseImages.length > 0\n              ? course.courseImages[0].urlImage\n              : ''\n              \" alt=\"\" />\n\n            <div class=\"card p-3 flex flex-col\">\n              <p class=\"title font-semibold flex-shrink-0 mt-auto\">\n                {{ course.title }}\n              </p>\n\n              <div class=\"card__info flex justify-between flex-1\">\n                <div class=\"card__info--left flex\">\n                  <img class=\"avatar flex-shrink-0\" src=\"../../../assets/images/client/avatars/1.png\" alt=\"\" />\n                  <p class=\" text-sm font-medium flex-1 ml-2\">{{ findCustomer(course.userID) }}</p>\n                </div>\n\n                <p class=\"card__info--right flex-shrink-0 text-sm text-content cursor-default text-center \">\n                  {{\n                    course.createdAt }}\n                </p>\n              </div>\n            </div>\n          </a>\n        </div>\n\n        <div class=\"more__courses flex justify-center mt-10\">\n          <button @click=\"prePage\" class=\"btn-showMore\">Trước</button>\n          <button @click=\"nextPage\" class=\"btn-collapse ml-3\">Sau</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"../../../assets/styles/course.scss\";\nimport axios from \"axios\";\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\nimport axiosAuth from \"../../../assets/js/axios.js\";\n\nexport default {\n  props: [],\n  mounted() {\n    this.getAllCourses();\n    async () => {\n      this.courses.forEach(async (course) => {\n        this.courses.push({ ...course, fullName: await this.findCustomer(course.userID) })\n        console.log(this.course)\n      });\n    };\n  },\n  setup() {\n\n\n  },\n\n  data() {\n    return {\n      courses: [],\n      page: 0,\n      records: 6,\n      keyword: null,\n      priceFrom: null,\n      priceTo: null,\n      education: null,\n      category: null\n    };\n  },\n  methods: {\n    async getAllCourses() {\n      try {\n        //get url API\n        const apiObject = findApiByName(\"course\", \"common\").url;\n        const res = await axios.get(apiObject, {\n          params: {\n            page: this.page,\n            records: this.records,\n            search: this.keyword,\n            priceFrom: this.priceFrom,\n            priceTo: this.priceTo,\n            education: this.education,\n            category: this.category,\n          },\n        });\n\n        this.courses = res.data;\n\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    prePage() {\n      if (this.page > 0) {\n        this.page--;\n        this.getAllCourses();\n      }\n    },\n\n    nextPage() {\n      if (this.page < this.courses.totalPage - 1) {\n        this.page++;\n\n        this.getAllCourses();\n      }\n    },\n\n    //search course by title\n    searchCourse() {\n      this.getAllCourses();\n    },\n\n    selectedPriceRange(event) {\n      this.priceFrom = event.target.getAttribute(\"data-price_from\");\n      this.priceTo = event.target.getAttribute(\"value\");\n\n      this.getAllCourses();\n    },\n\n    selectedEducateRange(event) {\n      this.education = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n\n    selectedCategoryRange(event) {\n      this.category = event.target.getAttribute(\"value\");\n\n      this.getAllCourses();\n    },\n\n    async findCustomer(userID) {\n      try {\n        const apiObject = findApiByName('customer', 'findCustomerByUserID').url;\n        const res = await axiosAuth.get(apiObject + userID);\n\n        if (res.status === 200) {\n          return res.data.data.fullName;\n        }\n      } catch (error) {\n        console.error('Error fetching customer:', error);\n      }\n\n      return ''; // Default value if the request fails\n    }\n  },\n  watch: {},\n  name: \"App\",\n  components: {},\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}