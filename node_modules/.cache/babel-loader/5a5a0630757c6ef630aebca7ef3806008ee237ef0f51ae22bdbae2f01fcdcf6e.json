{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-2/3 m-auto max-sm:w-full max-sm:px-5 sm:px-3 lg:px-0 mt-14\"\n};\nconst _hoisted_2 = {\n  class: \"w-full flex my-5 max-sm:flex-col\"\n};\nconst _hoisted_3 = {\n  class: \"ml-6 w-4/5 max-sm:mt-4 bg-white max-sm:ml-0 shadow-md\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-4\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-3xl font-semibold flex justify-center text-blue-900\"\n}, \" Thông tin chuyên đề \")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"flex justify-between max-sm:flex-col\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"py-2 font-semibold\"\n}, [/*#__PURE__*/_createTextVNode(\"Tên bài giảng: (Số lượng bài giảng được phép \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-red-600\"\n}, \"2\"), /*#__PURE__*/_createTextVNode(\" )\")], -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"py-2 font-semibold\"\n}, \"Chọn video giảng:\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"relative h-8 border border-blue-900 w-full rounded max-sm:w-full\"\n};\nconst _hoisted_9 = {\n  class: \"absolute flex right-0 items-center pr-1 h-full w-full\",\n  for: \"filevideocourse\"\n};\nconst _hoisted_10 = {\n  class: \"text-left w-full pl-2 text-gray-400\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-regular fa-folder-open cursor-pointer text-blue-900\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex justify-end w-full my-4 max-sm:w-full\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-gray-400 text-white p-2 w-1/5 mr-4 rounded text-sm max-sm:mr-2\"\n}, \" Hủy \"), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-blue-900 text-white p-2 w-2/5 rounded text-sm max-sm:mr-0\"\n}, \" Lưu bài giảng \")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_sidebarteacher_screen = _resolveComponent(\"sidebarteacher-screen\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_sidebarteacher_screen), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.uploadLesson && $setup.uploadLesson(...args), [\"prevent\"])),\n    class: \"w-full flex flex-col justify-center max-sm:w-full max-sm:p-2\",\n    style: {\n      \"margin-left\": \"50%\",\n      \"transform\": \"translateX(-50%)\"\n    }\n  }, [_createCommentVNode(\" <span class=\\\"py-2 font-semibold\\\">Mã khóa học:</span>\\n                        <input class=\\\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\\\" type=\\\"text\\\" placeholder=\\\"Mã khóa học:\\\">\\n    \\n                        <span class=\\\"py-2 font-semibold\\\">Mã chuyên đề:</span>\\n                        <input class=\\\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\\\" type=\\\"text\\\" placeholder=\\\"Mã khóa học:\\\">\\n         \"), _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.lesson.name = $event),\n    class: \"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\",\n    type: \"text\",\n    placeholder: \"Tên chuyên đề:\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.lesson.name]]), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"label\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, _toDisplayString(this.selectedFile), 1 /* TEXT */), _hoisted_11, _createElementVNode(\"input\", {\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.handleFileChange && $options.handleFileChange(...args)),\n    class: \"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full hidden\",\n    type: \"file\",\n    id: \"filevideocourse\",\n    placeholder: \"Bài giảng\"\n  }, null, 32 /* HYDRATE_EVENTS */)])]), _hoisted_12], 32 /* HYDRATE_EVENTS */)])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_sidebarteacher_screen","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_cache","_withModifiers","args","$setup","uploadLesson","style","_createCommentVNode","_hoisted_6","$data","lesson","name","$event","type","placeholder","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","selectedFile","_hoisted_11","onChange","$options","handleFileChange","id","_hoisted_12"],"sources":["F:\\VueJS\\Elearning-Frontend\\Elearning\\src\\components\\client\\Professional\\CourseVideoScreen.vue"],"sourcesContent":["<template>\n  <div class=\"w-2/3 m-auto max-sm:w-full max-sm:px-5 sm:px-3 lg:px-0 mt-14\">\n    <div class=\"w-full flex my-5 max-sm:flex-col\">\n      <sidebarteacher-screen></sidebarteacher-screen>\n      <div class=\"ml-6 w-4/5 max-sm:mt-4 bg-white max-sm:ml-0 shadow-md\">\n        <div class=\"p-4\">\n          <p class=\"text-3xl font-semibold flex justify-center text-blue-900\">\n            Thông tin chuyên đề\n          </p>\n        </div>\n        <div class=\"flex justify-between max-sm:flex-col\">\n          <form\n            @submit.prevent=\"uploadLesson\"\n            class=\"w-full flex flex-col justify-center max-sm:w-full max-sm:p-2\"\n            style=\"margin-left: 50%; transform: translateX(-50%)\"\n          >\n            <!-- <span class=\"py-2 font-semibold\">Mã khóa học:</span>\n                        <input class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\" type=\"text\" placeholder=\"Mã khóa học:\">\n    \n                        <span class=\"py-2 font-semibold\">Mã chuyên đề:</span>\n                        <input class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\" type=\"text\" placeholder=\"Mã khóa học:\">\n         -->\n            <span class=\"py-2 font-semibold\"\n              >Tên bài giảng: (Số lượng bài giảng được phép\n              <span class=\"text-red-600\">2</span> )</span\n            >\n            <input\n              v-model=\"lesson.name\"\n              class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\"\n              type=\"text\"\n              placeholder=\"Tên chuyên đề:\"\n            />\n\n            <span class=\"py-2 font-semibold\">Chọn video giảng:</span>\n            <div class=\"relative h-8 border border-blue-900 w-full rounded max-sm:w-full\">\n              <label\n                class=\"absolute flex right-0 items-center pr-1 h-full w-full\"\n                for=\"filevideocourse\"\n              >\n                <p class=\"text-left w-full pl-2 text-gray-400\">\n                  {{ this.selectedFile }}\n                </p>\n                <i class=\"fa-regular fa-folder-open cursor-pointer text-blue-900\"></i>\n                <input\n                  @change=\"handleFileChange\"\n                  class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full hidden\"\n                  type=\"file\"\n                  id=\"filevideocourse\"\n                  placeholder=\"Bài giảng\"\n                />\n              </label>\n            </div>\n\n            <div class=\"flex justify-end w-full my-4 max-sm:w-full\">\n              <button\n                class=\"bg-gray-400 text-white p-2 w-1/5 mr-4 rounded text-sm max-sm:mr-2\"\n              >\n                Hủy\n              </button>\n              <button\n                class=\"bg-blue-900 text-white p-2 w-2/5 rounded text-sm max-sm:mr-0\"\n              >\n                Lưu bài giảng\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SidebarteacherScreen from \"./SidebarteacherScreen.vue\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nimport { useRoute } from 'vue-router';\n\nexport default {\n  setup() {\n    var selectedFile = ref(null);\n    const route = useRoute();\n    const uploadLesson = async () => {\n      try {\n        if (selectedFile.value != null) {\n          //create params send with api\n          const formData = new FormData();\n          formData.append(\"file\", this.selectedFile);\n\n          //send API upload file\n          await axios\n            .post(\"http://localhost:8087/api/upload\", formData, {\n              headers: {\n                \"Content-Type\": \"multipart/form-data\", // Important for handling files\n              },\n            })\n            .then((response) => {\n              if (response.status == 200) {\n                const res = response.data.data;\n                this.lesson.duration = res.duration;\n                this.lesson.urlVideo = res.url;\n\n                //get thematic id from url\n                const thematicID = route.params.id;\n\n                this.lesson.thematicID = thematicID;\n                console.log(this.lesson);\n              }\n            });\n        }\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n      }\n    };\n\n    return {\n      uploadLesson,\n      selectedFile,\n    };\n  },\n  components: {\n    SidebarteacherScreen,\n  },\n  data() {\n    return {\n      lesson: {\n        name: \"\",\n        thematicID: 0,\n        urlVideo: \"\",\n        duration: \"\",\n      },\n    };\n  },\n  methods: {\n    handleFileChange(event) {\n      const inputFile = event.target;\n      if (inputFile.files.length > 0) {\n        // Lấy tên của tệp đầu tiên nếu có\n        this.selectedFile = event.target.files[0];\n      } else {\n        this.selectedFile = \"Chưa chọn tệp\";\n      }\n    },\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAA8D;;EAClEA,KAAK,EAAC;AAAkC;;EAEtCA,KAAK,EAAC;AAAuD;gCAChEC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAK,I,aACdC,mBAAA,CAEI;EAFDD,KAAK,EAAC;AAA0D,GAAC,uBAEpE,E;;EAEGA,KAAK,EAAC;AAAsC;gCAY7CC,mBAAA,CAGC;EAHKD,KAAK,EAAC;AAAoB,I,8BAC7B,+CACD,G,aAAAC,mBAAA,CAAmC;EAA7BD,KAAK,EAAC;AAAc,GAAC,GAAC,G,8BAAO,IAAE,E;gCASvCC,mBAAA,CAAyD;EAAnDD,KAAK,EAAC;AAAoB,GAAC,mBAAiB;;EAC7CA,KAAK,EAAC;AAAkE;;EAEzEA,KAAK,EAAC,uDAAuD;EAC7DE,GAAG,EAAC;;;EAEDF,KAAK,EAAC;AAAqC;iCAG9CC,mBAAA,CAAsE;EAAnED,KAAK,EAAC;AAAwD;iCAWrEC,mBAAA,CAWM;EAXDD,KAAK,EAAC;AAA4C,I,aACrDC,mBAAA,CAIS;EAHPD,KAAK,EAAC;AAAmE,GAC1E,OAED,G,aACAC,mBAAA,CAIS;EAHPD,KAAK,EAAC;AAA8D,GACrE,iBAED,E;;;uBA9DZG,mBAAA,CAoEM,OApENC,UAoEM,GAnEJH,mBAAA,CAkEM,OAlENI,UAkEM,GAjEJC,YAAA,CAA+CC,gCAAA,GAC/CN,mBAAA,CA+DM,OA/DNO,UA+DM,GA9DJC,UAIM,EACNR,mBAAA,CAwDM,OAxDNS,UAwDM,GAvDJT,mBAAA,CAsDO;IArDJU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,MAAA,CAAAC,YAAA,IAAAD,MAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;IAC7Bd,KAAK,EAAC,8DAA8D;IACpEiB,KAAqD,EAArD;MAAA;MAAA;IAAA;MAEAC,mBAAA,6dAKA,EACAC,UAGC,E,gBACDlB,mBAAA,CAKE;+DAJSmB,KAAA,CAAAC,MAAM,CAACC,IAAI,GAAAC,MAAA;IACpBvB,KAAK,EAAC,2EAA2E;IACjFwB,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC;iDAHHL,KAAA,CAAAC,MAAM,CAACC,IAAI,E,GAMtBI,UAAyD,EACzDzB,mBAAA,CAiBM,OAjBN0B,UAiBM,GAhBJ1B,mBAAA,CAeQ,SAfR2B,UAeQ,GAXN3B,mBAAA,CAEI,KAFJ4B,WAEI,EAAAC,gBAAA,MADMC,YAAY,kBAEtBC,WAAsE,EACtE/B,mBAAA,CAME;IALCgC,QAAM,EAAArB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEoB,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAArB,IAAA,CAAgB;IACzBd,KAAK,EAAC,kFAAkF;IACxFwB,IAAI,EAAC,MAAM;IACXY,EAAE,EAAC,iBAAiB;IACpBX,WAAW,EAAC;yCAKlBY,WAWM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}