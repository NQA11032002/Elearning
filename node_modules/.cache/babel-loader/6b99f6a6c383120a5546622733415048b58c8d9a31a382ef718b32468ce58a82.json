{"ast":null,"code":"import \"../../../assets/styles/course.scss\";\nimport axios from \"axios\";\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\nimport axiosAuth from \"../../../assets/js/axios.js\";\nexport default {\n  props: [],\n  mounted() {\n    this.getAllCourses();\n  },\n  setup() {},\n  data() {\n    return {\n      courses: [],\n      page: 0,\n      records: 6,\n      keyword: null,\n      priceFrom: null,\n      priceTo: null,\n      education: null,\n      category: null\n    };\n  },\n  methods: {\n    //get all courses\n    async getAllCourses() {\n      //get url API\n      const apiObject = findApiByName(\"course\", \"common\").url;\n      const res = await axios.get(apiObject, {\n        params: {\n          page: this.page,\n          records: this.records,\n          search: this.keyword,\n          priceFrom: this.priceFrom,\n          priceTo: this.priceTo,\n          education: this.education,\n          category: this.category\n        }\n      });\n      if (res.status == 200) {\n        this.courses = res.data;\n        //insert fullName into each course\n        for (const course of this.courses.data) {\n          course.fullName = await this.getUserByID(course.userID);\n        }\n      }\n    },\n    //redirect to previous page\n    prePage() {\n      if (this.page > 0) {\n        this.page--;\n        this.getAllCourses();\n      }\n    },\n    //redirect to next page\n    nextPage() {\n      if (this.page < this.courses.totalPage - 1) {\n        this.page++;\n        this.getAllCourses();\n      }\n    },\n    //search course by title\n    searchCourse() {\n      this.getAllCourses();\n    },\n    //select price course\n    selectedPriceRange(event) {\n      this.priceFrom = event.target.getAttribute(\"data-price_from\");\n      this.priceTo = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    //select education course\n    selectedEducateRange(event) {\n      this.education = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    //select category course\n    selectedCategoryRange(event) {\n      this.category = event.target.getAttribute(\"value\");\n      this.getAllCourses();\n    },\n    //get information of customer by userID\n    async getUserByID(userID) {\n      try {\n        // Get API URL\n        const apiObject = findApiByName(\"customer\", \"findUser\").url;\n\n        // Make API request\n        const res = await axiosAuth.get(apiObject + userID);\n        if (res.status === 200) {\n          return res.data.data.fullName;\n        } else {\n          console.error('Error fetching user data. Status:', res.status);\n          return null;\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        return null;\n      }\n    }\n  },\n  watch: {},\n  name: \"App\",\n  components: {}\n};","map":{"version":3,"names":["axios","findApiByName","axiosAuth","props","mounted","getAllCourses","setup","data","courses","page","records","keyword","priceFrom","priceTo","education","category","methods","apiObject","url","res","get","params","search","status","course","fullName","getUserByID","userID","prePage","nextPage","totalPage","searchCourse","selectedPriceRange","event","target","getAttribute","selectedEducateRange","selectedCategoryRange","console","error","watch","name","components"],"sources":["C:\\Vuejs\\Elearning\\src\\components\\client\\courses\\CourseScreen.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"courses.data != null\" class=\"flex gap-9 container mt-14 mb-14 max-w-screen-2xl mx-auto\">\r\n    <div class=\"sidebar w-1/5 bg-white  rounded-lg shadow-md\">\r\n      <div class=\"filters p-5 h-5/6\">\r\n        <div class=\"filter__container\">\r\n          <h1 class=\"title text-center font-semibold text-xl\">KHÓA HỌC</h1>\r\n\r\n          <div class=\"filter filter__search\">\r\n            <p>\r\n              Tìm thấy : <b> {{ courses.data.length }} khóa học</b>\r\n              {{ keyword != \"\" ? \"theo\" : \"\" }} <b>{{ keyword }}</b>\r\n            </p>\r\n            <input type=\"text\" class=\"search__name\" @change=\"searchCourse\" v-model=\"keyword\"\r\n              placeholder=\"Tìm tên khóa học...\" />\r\n          </div>\r\n\r\n          <div class=\"filter filter__price\">\r\n            <h2 class=\"font-semibold\">Khoảng giá</h2>\r\n            <div>\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--1\">\r\n                <input type=\"radio\" id=\"cb__price--1\" name=\"rd_price\" class=\"cb__price mr-2\"\r\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"0\" value=\"500000\" />\r\n                Từ 0 đến 500k\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--2\">\r\n                <input type=\"radio\" id=\"cb__price--2\" name=\"rd_price\" class=\"cb__price mr-2\"\r\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"500001\" value=\"1000000\" />\r\n                Từ 500k đến 1 triệu\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--3\">\r\n                <input type=\"radio\" id=\"cb__price--3\" name=\"rd_price\" class=\"cb__price mr-2\"\r\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"1000000\" value=\"3000000\" />\r\n                Từ 1 triệu đến 3 triệu\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--4\">\r\n                <input type=\"radio\" id=\"cb__price--4\" name=\"rd_price\" class=\"cb__price mr-2\"\r\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"3000000\" value=\"5000000\" />\r\n                Từ 3 triệu đến 5 triệu\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"cb__price--5\">\r\n                <input type=\"radio\" id=\"cb__price--5\" name=\"rd_price\" class=\"cb__price mr-2\"\r\n                  @change=\"selectedPriceRange($event)\" data-price_from=\"5000000\" value=\"9999999999\" />\r\n                Trên 5 triệu\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"filter filter__education\">\r\n            <h2 class=\"font-semibold\">Thời gian khóa học</h2>\r\n            <div>\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--1\">\r\n                <input type=\"radio\" id=\"filter__education--1\" class=\"filter__education mr-2\"\r\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"1\" />\r\n                Lớp 10\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--2\">\r\n                <input type=\"radio\" id=\"filter__education--2\" class=\"filter__education mr-2\"\r\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"2\" />\r\n                Lớp 11\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--3\">\r\n                <input type=\"radio\" id=\"filter__education--3\" class=\"filter__education mr-2\"\r\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"3\" />\r\n                Lớp 12\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__education--4\">\r\n                <input type=\"radio\" id=\"filter__education--4\" class=\"filter__education mr-2\"\r\n                  @change=\"selectedEducateRange($event)\" name=\"rd__education\" value=\"4\" />\r\n                Đại học\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"filter filter__title\">\r\n            <h2 class=\"font-semibold\">Khóa học</h2>\r\n            <div>\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--1\">\r\n                <input type=\"radio\" id=\"filter__title--1\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"1\" />\r\n                Frontend\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--2\">\r\n                <input type=\"radio\" id=\"filter__title--2\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"2\" />\r\n                Backend\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--3\">\r\n                <input type=\"radio\" id=\"filter__title--3\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"3\" />\r\n                Google Ads\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--4\">\r\n                <input type=\"radio\" id=\"filter__title--4\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"4\" />\r\n                SEO\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--5\">\r\n                <input type=\"radio\" id=\"filter__title--5\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"5\" />\r\n                Data Science\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--6\">\r\n                <input type=\"radio\" id=\"filter__title--6\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"6\" />\r\n                English\r\n              </label>\r\n\r\n              <label class=\"flex cursor-pointer filter--text\" for=\"filter__title--7\">\r\n                <input type=\"radio\" id=\"filter__title--7\" class=\"filter__title mr-2\"\r\n                  @change=\"selectedCategoryRange($event)\" name=\"rd__title\" value=\"7\" />\r\n                Mathematics\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-right w-4/5\">\r\n\r\n      <div class=\"courses p-5\">\r\n        <label class=\"filters flex justify-end font-semibold cursor-pointer\">\r\n          <i class=\"fa-solid fa-bars pr-2\"></i>\r\n          Bộ lọc\r\n        </label>\r\n\r\n        <div class=\"cards flex flex-wrap gap-8 mt-5 ml-1\">\r\n          <a :href=\"'/course/' + course.id\"\r\n            class=\"course border rounded-md hover:shadow-lg transition-all  flex flex-col w-1/1 gap-4\"\r\n            v-for=\"course in courses.data\" :key=\"course.id\">\r\n            <img class=\"image object-cover flex-shrink-0 h-40 w-course\" :src=\"course.courseImages.length > 0\r\n              ? course.courseImages[0].urlImage\r\n              : ''\r\n              \" alt=\"\" />\r\n\r\n            <div class=\"card p-3 flex flex-col\">\r\n              <p class=\"title font-semibold flex-shrink-0 mt-auto\">\r\n                {{ course.title }}\r\n              </p>\r\n\r\n              <div class=\"card__info flex justify-between flex-1\">\r\n                <div class=\"card__info--left flex\">\r\n                  <img class=\"avatar flex-shrink-0\" src=\"../../../assets/images/client/avatars/1.png\" alt=\"\" />\r\n                  <p class=\" text-sm font-medium flex-1 ml-2\">{{ course.fullName }}</p>\r\n                </div>\r\n\r\n                <p class=\"card__info--right flex-shrink-0 text-sm text-content cursor-default text-center \">\r\n                  {{\r\n                    course.createdAt }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n\r\n        <div class=\"more__courses flex justify-center mt-10\">\r\n          <button @click=\"prePage\" class=\"btn-showMore\">Trước</button>\r\n          <button @click=\"nextPage\" class=\"btn-collapse ml-3\">Sau</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../../assets/styles/course.scss\";\r\nimport axios from \"axios\";\r\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\r\nimport axiosAuth from \"../../../assets/js/axios.js\";\r\n\r\nexport default {\r\n  props: [],\r\n  mounted() {\r\n    this.getAllCourses();\r\n\r\n  },\r\n  setup() {\r\n\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      courses: [],\r\n      page: 0,\r\n      records: 6,\r\n      keyword: null,\r\n      priceFrom: null,\r\n      priceTo: null,\r\n      education: null,\r\n      category: null\r\n    };\r\n  },\r\n  methods: {\r\n    //get all courses\r\n    async getAllCourses() {\r\n      //get url API\r\n      const apiObject = findApiByName(\"course\", \"common\").url;\r\n      const res = await axios.get(apiObject, {\r\n        params: {\r\n          page: this.page,\r\n          records: this.records,\r\n          search: this.keyword,\r\n          priceFrom: this.priceFrom,\r\n          priceTo: this.priceTo,\r\n          education: this.education,\r\n          category: this.category,\r\n        },\r\n      });\r\n\r\n      if (res.status == 200) {\r\n        this.courses = res.data;\r\n        //insert fullName into each course\r\n        for (const course of this.courses.data) {\r\n          course.fullName = await this.getUserByID(course.userID);\r\n        }\r\n      }\r\n    },\r\n\r\n    //redirect to previous page\r\n    prePage() {\r\n      if (this.page > 0) {\r\n        this.page--;\r\n        this.getAllCourses();\r\n      }\r\n    },\r\n\r\n    //redirect to next page\r\n    nextPage() {\r\n      if (this.page < this.courses.totalPage - 1) {\r\n        this.page++;\r\n\r\n        this.getAllCourses();\r\n      }\r\n    },\r\n\r\n    //search course by title\r\n    searchCourse() {\r\n      this.getAllCourses();\r\n    },\r\n\r\n    //select price course\r\n    selectedPriceRange(event) {\r\n      this.priceFrom = event.target.getAttribute(\"data-price_from\");\r\n      this.priceTo = event.target.getAttribute(\"value\");\r\n\r\n      this.getAllCourses();\r\n    },\r\n\r\n    //select education course\r\n    selectedEducateRange(event) {\r\n      this.education = event.target.getAttribute(\"value\");\r\n      this.getAllCourses();\r\n    },\r\n\r\n    //select category course\r\n    selectedCategoryRange(event) {\r\n      this.category = event.target.getAttribute(\"value\");\r\n\r\n      this.getAllCourses();\r\n    },\r\n\r\n    //get information of customer by userID\r\n    async getUserByID(userID) {\r\n      try {\r\n        // Get API URL\r\n        const apiObject = findApiByName(\"customer\", \"findUser\").url;\r\n\r\n        // Make API request\r\n        const res = await axiosAuth.get(apiObject + userID);\r\n\r\n        if (res.status === 200) {\r\n          return res.data.data.fullName;\r\n        } else {\r\n          console.error('Error fetching user data. Status:', res.status);\r\n          return null;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n        return null;\r\n      }\r\n    },\r\n  },\r\n  watch: {},\r\n  name: \"App\",\r\n  components: {},\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}