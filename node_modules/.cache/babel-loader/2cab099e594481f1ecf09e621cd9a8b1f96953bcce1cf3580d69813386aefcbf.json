{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"text-slate-600 flex lg:w-2/3 my-28 mx-auto gap-6 h-full py-5 max-sm:flex-col bg-white shadow-md rounded-lg px-5 max-sm:w-full max-sm:px-5 md:w-10/12\"\n};\nconst _hoisted_2 = {\n  class: \"border-r lg:w-1/3 border-slate-700 flex flex-col gap-5 pr-5 max-sm:flex-col max-sm:w-full max-sm:pr-0 max-sm:border-r-0\"\n};\nconst _hoisted_3 = {\n  class: \"border-b border-slate-700 pb-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-xl font-semibold text-slate-700 max-sm:text-lg max-sm:text-center\"\n}, \" Đang chờ thanh toán \", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"text-center text-2xl font-medium mt-3 text-slate-700\"\n};\nconst _hoisted_6 = {\n  class: \"border-b border-slate-700 pb-4 flex flex-col gap-3\"\n};\nconst _hoisted_7 = {\n  class: \"font-medium text-slate-700\"\n};\nconst _hoisted_8 = {\n  for: \"\",\n  class: \"pl-1 text-orange-400 font-medium\"\n};\nconst _hoisted_9 = {\n  class: \"font-medium text-slate-700\"\n};\nconst _hoisted_10 = {\n  class: \"pl-1 text-orange-400 font-medium\",\n  for: \"\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex border-b border-slate-700 pb-4\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  class: \"rounded-md py-2 px-4 w-full text-sm bg-slate-600 outline-none text-gray-100\",\n  placeholder: \"Nhập mã khuyến mãi\"\n}), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"border rounded-md text-sm text-gray-300 ml-3 text-center outline-none bg-neutral-800 border-slate-500 w-44 cursor-pointer\"\n}, \" ÁP DỤNG \")], -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"flex flex-col gap-5\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-xl font-semibold text-slate-700 max-sm:text-lg\"\n}, \" Chi tiết thanh toán \", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  class: \"bg-neutral-800 p-3 rounded-lg py-5 shadow-lg\"\n};\nconst _hoisted_15 = {\n  class: \"flex justify-between border-b border-slate-700 pb-5\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"flex-shrink-0 font-medium text-gray-300\"\n}, \"Giá bán:\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"flex-1 flex justify-end gap-3\"\n};\nconst _hoisted_18 = {\n  class: \"text-sm line-through text-gray-300\"\n};\nconst _hoisted_19 = {\n  class: \"text-sky-300\"\n};\nconst _hoisted_20 = {\n  class: \"flex justify-between pt-5\"\n};\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"font-medium text-gray-300\"\n}, \"Tổng tiền:\", -1 /* HOISTED */);\nconst _hoisted_22 = {\n  class: \"text-xl text-sky-300\"\n};\nconst _hoisted_23 = {\n  class: \"flex flex-col gap-5\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-xl font-semibold text-slate-700 max-sm:text-lg\"\n}, \" Chuyển khoản bằng QR \", -1 /* HOISTED */);\nconst _hoisted_25 = {\n  class: \"flex items-center justify-center gap-5 max-sm:flex-col max-sm:gap-0\"\n};\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"w-36 h-36 object-cover rounded-lg my-4\",\n  src: \"https://i.vdoc.vn/data/image/2017/11/23/cach-tao-ma-qr-code.png\",\n  alt: \"\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_27 = {\n  class: \"flex flex-col gap-3\"\n};\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm\"\n}, \"Bước 1: Mở app ngân hàng và quét mã QR\", -1 /* HOISTED */);\nconst _hoisted_29 = {\n  class: \"text-sm\"\n};\nconst _hoisted_30 = {\n  for: \"\",\n  class: \"text-orange-400\"\n};\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm\"\n}, \"Bước 3: Thực hiện thanh toán.\", -1 /* HOISTED */);\nconst _hoisted_32 = {\n  class: \"\"\n};\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-xl font-semibold text-slate-700 max-sm:text-lg\"\n}, \" Chuyển khoản thủ công \", -1 /* HOISTED */);\nconst _hoisted_34 = {\n  class: \"flex flex-wrap gap-5 w-full mt-3\"\n};\nconst _hoisted_35 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\\\"><p class=\\\"text-gray-400 text-sm\\\">Số tài khoản</p><div class=\\\"flex justify-between items-center mt-2\\\"><p class=\\\"text-gray-200\\\">9353538222</p><img class=\\\"cursor-grab hover:opacity-80\\\" src=\\\"https://fullstack.edu.vn/static/media/clone.d2ecd3252b355d732cabb677ec33e5c6.svg\\\" alt=\\\"\\\"></div></div><div class=\\\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\\\"><p class=\\\"text-sm text-gray-400\\\">Tên tài khoản</p><div class=\\\"mt-2\\\"><h1 class=\\\"font-medium text-gray-200\\\">HỒ QUỐC SƠN</h1></div></div>\", 2);\nconst _hoisted_37 = {\n  class: \"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\"\n};\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm text-gray-400\"\n}, \"Nội dung\", -1 /* HOISTED */);\nconst _hoisted_39 = {\n  class: \"flex justify-between items-center mt-2\"\n};\nconst _hoisted_40 = {\n  class: \"text-orange-400\"\n};\nconst _hoisted_41 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"cursor-grab hover:opacity-80\",\n  src: \"https://fullstack.edu.vn/static/media/clone.d2ecd3252b355d732cabb677ec33e5c6.svg\",\n  alt: \"\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm text-gray-400\"\n}, \"Chi nhánh\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mt-2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-gray-200\"\n}, \"Vietcombank Hà Nội\")])], -1 /* HOISTED */);\nconst _hoisted_43 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"flex flex-col gap-3\\\"><h1 class=\\\"text-xl font-medium\\\">Lưu ý</h1><p class=\\\"text-sm\\\"> Tối đa 5 phút sau thời gian chuyển khoản, nếu hệ thống không phản hồi vui lòng liên hệ ngay bộ phận hỗ trợ của F8. </p><div class=\\\"flex items-center gap-2\\\"><img src=\\\"https://fullstack.edu.vn/static/media/phone.0c60754adb11aa1f42791f4b80423f6d.svg\\\" alt=\\\"\\\"><p class=\\\"text-sm\\\">0246.329.1102</p></div><div class=\\\"flex items-center gap-2\\\"><img src=\\\"\\thttps://fullstack.edu.vn/static/media/envelope.e7b59ce57be76a9435865a20e7021f56.svg\\\" alt=\\\"\\\"><p class=\\\"text-sm\\\">contact@fullstack.edu.vn</p></div><div class=\\\"flex items-center gap-2\\\"><img src=\\\"https://fullstack.edu.vn/static/media/map-location.d448ea4630d95df7331a9b1162a39a8f.svg\\\"><p class=\\\"text-sm\\\"> Số 11D, lô A10, khu đô thị Nam Trung Yên, Phường Yên Hòa, Quận Cầu Giấy, TP. Hà Nội </p></div></div>\", 1);\nconst _hoisted_44 = {\n  key: 1,\n  class: \"h-full\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PopupScreen = _resolveComponent(\"PopupScreen\");\n  return $setup.course != null && !$data.isRegistered ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"p\", _hoisted_5, _toDisplayString($data.countdown), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, [_createTextVNode(\" Tên khóa học: \"), _createElementVNode(\"label\", _hoisted_8, _toDisplayString($setup.course.title), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_9, [_createTextVNode(\" Mã đơn hàng: \"), _createElementVNode(\"label\", _hoisted_10, _toDisplayString($data.orderData.codeOrder), 1 /* TEXT */)])]), _hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"p\", _hoisted_18, _toDisplayString($options.convertToVND($setup.course.price)), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_19, _toDisplayString($options.convertToVND($setup.course.price - $setup.course.price * ($setup.course.reduce / 100))), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _createElementVNode(\"h3\", _hoisted_22, _toDisplayString($options.convertToVND($setup.course.price - $setup.course.price * ($setup.course.reduce / 100))), 1 /* TEXT */)])]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.submitFormOrderCourse && $options.submitFormOrderCourse(...args)),\n    class: \"bg-neutral-800 font-medium text-center hover:opacity-80 text-white text-sm w-full py-3 rounded-lg\"\n  }, \" THANH TOÁN \")])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", null, [_hoisted_24, _createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _createElementVNode(\"div\", _hoisted_27, [_hoisted_28, _createElementVNode(\"p\", _hoisted_29, [_createTextVNode(\" Bước 2: Đảm bảo nội dung chuyển khoản là \"), _createElementVNode(\"label\", _hoisted_30, _toDisplayString($data.orderData.codeOrder), 1 /* TEXT */)]), _hoisted_31])])]), _createElementVNode(\"div\", _hoisted_32, [_hoisted_33, _createElementVNode(\"div\", _hoisted_34, [_hoisted_35, _createElementVNode(\"div\", _hoisted_37, [_hoisted_38, _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"p\", _hoisted_40, _toDisplayString($data.orderData.codeOrder), 1 /* TEXT */), _hoisted_41])]), _hoisted_42])]), _hoisted_43])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_44, [$data.isPopup ? (_openBlock(), _createBlock(_component_PopupScreen, {\n    key: 0,\n    contents: $data.contents\n  }, null, 8 /* PROPS */, [\"contents\"])) : _createCommentVNode(\"v-if\", true)]));\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","placeholder","src","alt","$setup","course","$data","isRegistered","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","countdown","_hoisted_6","_hoisted_7","_hoisted_8","title","_hoisted_9","_hoisted_10","orderData","codeOrder","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","$options","convertToVND","price","_hoisted_19","reduce","_hoisted_20","_hoisted_21","_hoisted_22","onClick","_cache","args","submitFormOrderCourse","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","isPopup","_createBlock","_component_PopupScreen","contents"],"sources":["C:\\Vuejs\\Elearning\\src\\components\\client\\courses\\PaymentScreen.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"course != null && !isRegistered\"\r\n    class=\"text-slate-600 flex lg:w-2/3 my-28 mx-auto gap-6 h-full py-5 max-sm:flex-col bg-white shadow-md rounded-lg px-5 max-sm:w-full max-sm:px-5 md:w-10/12\">\r\n\r\n    <div\r\n      class=\"border-r lg:w-1/3 border-slate-700 flex flex-col gap-5 pr-5 max-sm:flex-col max-sm:w-full max-sm:pr-0 max-sm:border-r-0\">\r\n      <div class=\"border-b border-slate-700 pb-4\">\r\n        <h3 class=\"text-xl font-semibold text-slate-700 max-sm:text-lg max-sm:text-center\">\r\n          Đang chờ thanh toán\r\n        </h3>\r\n        <p class=\"text-center text-2xl font-medium mt-3 text-slate-700\">\r\n          {{ countdown }}\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"border-b border-slate-700 pb-4 flex flex-col gap-3\">\r\n        <p class=\"font-medium text-slate-700\">\r\n          Tên khóa học:\r\n          <label for=\"\" class=\"pl-1 text-orange-400 font-medium\">{{\r\n            course.title\r\n          }}</label>\r\n        </p>\r\n        <p class=\"font-medium text-slate-700\">\r\n          Mã đơn hàng:\r\n          <label class=\"pl-1 text-orange-400 font-medium\" for=\"\">{{\r\n            orderData.codeOrder\r\n          }}</label>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"flex border-b border-slate-700 pb-4\">\r\n        <input type=\"text\" class=\"rounded-md py-2 px-4 w-full text-sm bg-slate-600 outline-none text-gray-100\"\r\n          placeholder=\"Nhập mã khuyến mãi\" />\r\n\r\n        <button\r\n          class=\"border rounded-md text-sm text-gray-300 ml-3 text-center outline-none bg-neutral-800 border-slate-500 w-44 cursor-pointer\">\r\n          ÁP DỤNG\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col gap-5\">\r\n        <h1 class=\"text-xl font-semibold text-slate-700 max-sm:text-lg\">\r\n          Chi tiết thanh toán\r\n        </h1>\r\n\r\n        <div class=\"bg-neutral-800 p-3 rounded-lg py-5 shadow-lg\">\r\n          <div class=\"flex justify-between border-b border-slate-700 pb-5\">\r\n            <p class=\"flex-shrink-0 font-medium text-gray-300\">Giá bán:</p>\r\n            <div class=\"flex-1 flex justify-end gap-3\">\r\n              <p class=\"text-sm line-through text-gray-300\">\r\n                {{ convertToVND(course.price) }}\r\n              </p>\r\n              <p class=\"text-sky-300\">\r\n                {{\r\n                  convertToVND(\r\n                    course.price - course.price * (course.reduce / 100)\r\n                  )\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"flex justify-between pt-5\">\r\n            <p class=\"font-medium text-gray-300\">Tổng tiền:</p>\r\n            <h3 class=\"text-xl text-sky-300\">\r\n              {{\r\n                convertToVND(\r\n                  course.price - course.price * (course.reduce / 100)\r\n                )\r\n              }}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button @click=\"submitFormOrderCourse\"\r\n            class=\"bg-neutral-800 font-medium text-center hover:opacity-80 text-white text-sm w-full py-3 rounded-lg\">\r\n            THANH TOÁN\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      <div class=\"flex flex-col gap-5\">\r\n        <div>\r\n          <h1 class=\"text-xl font-semibold text-slate-700 max-sm:text-lg\">\r\n            Chuyển khoản bằng QR\r\n          </h1>\r\n          <div class=\"flex items-center justify-center gap-5 max-sm:flex-col max-sm:gap-0\">\r\n            <img class=\"w-36 h-36 object-cover rounded-lg my-4\"\r\n              src=\"https://i.vdoc.vn/data/image/2017/11/23/cach-tao-ma-qr-code.png\" alt=\"\" />\r\n\r\n            <div class=\"flex flex-col gap-3\">\r\n              <p class=\"text-sm\">Bước 1: Mở app ngân hàng và quét mã QR</p>\r\n              <p class=\"text-sm\">\r\n                Bước 2: Đảm bảo nội dung chuyển khoản là\r\n                <label for=\"\" class=\"text-orange-400\">\r\n                  {{ orderData.codeOrder }}</label>\r\n              </p>\r\n              <p class=\"text-sm\">Bước 3: Thực hiện thanh toán.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"\">\r\n          <h1 class=\"text-xl font-semibold text-slate-700 max-sm:text-lg\">\r\n            Chuyển khoản thủ công\r\n          </h1>\r\n          <div class=\"flex flex-wrap gap-5 w-full mt-3\">\r\n            <div class=\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\">\r\n              <p class=\"text-gray-400 text-sm\">Số tài khoản</p>\r\n              <div class=\"flex justify-between items-center mt-2\">\r\n                <p class=\"text-gray-200\">9353538222</p>\r\n                <img class=\"cursor-grab hover:opacity-80\"\r\n                  src=\"https://fullstack.edu.vn/static/media/clone.d2ecd3252b355d732cabb677ec33e5c6.svg\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\">\r\n              <p class=\"text-sm text-gray-400\">Tên tài khoản</p>\r\n              <div class=\"mt-2\">\r\n                <h1 class=\"font-medium text-gray-200\">HỒ QUỐC SƠN</h1>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\">\r\n              <p class=\"text-sm text-gray-400\">Nội dung</p>\r\n              <div class=\"flex justify-between items-center mt-2\">\r\n                <p class=\"text-orange-400\">\r\n                  {{ orderData.codeOrder }}\r\n                </p>\r\n                <img class=\"cursor-grab hover:opacity-80\"\r\n                  src=\"https://fullstack.edu.vn/static/media/clone.d2ecd3252b355d732cabb677ec33e5c6.svg\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"w-1/3 bg-neutral-800 p-3 rounded-lg max-sm:w-full\">\r\n              <p class=\"text-sm text-gray-400\">Chi nhánh</p>\r\n              <div class=\"mt-2\">\r\n                <p class=\"text-gray-200\">Vietcombank Hà Nội</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex flex-col gap-3\">\r\n          <h1 class=\"text-xl font-medium\">Lưu ý</h1>\r\n          <p class=\"text-sm\">\r\n            Tối đa 5 phút sau thời gian chuyển khoản, nếu hệ thống không phản\r\n            hồi vui lòng liên hệ ngay bộ phận hỗ trợ của F8.\r\n          </p>\r\n\r\n          <div class=\"flex items-center gap-2\">\r\n            <img src=\"https://fullstack.edu.vn/static/media/phone.0c60754adb11aa1f42791f4b80423f6d.svg\" alt=\"\" />\r\n            <p class=\"text-sm\">0246.329.1102</p>\r\n          </div>\r\n\r\n          <div class=\"flex items-center gap-2\">\r\n            <img src=\"\thttps://fullstack.edu.vn/static/media/envelope.e7b59ce57be76a9435865a20e7021f56.svg\" alt=\"\" />\r\n            <p class=\"text-sm\">contact@fullstack.edu.vn</p>\r\n          </div>\r\n\r\n          <div class=\"flex items-center gap-2\">\r\n            <img src=\"https://fullstack.edu.vn/static/media/map-location.d448ea4630d95df7331a9b1162a39a8f.svg\" />\r\n            <p class=\"text-sm\">\r\n              Số 11D, lô A10, khu đô thị Nam Trung Yên, Phường Yên Hòa, Quận Cầu\r\n              Giấy, TP. Hà Nội\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"h-full\">\r\n    <PopupScreen v-if=\"isPopup\" :contents=\"contents\"></PopupScreen>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useRoute } from \"vue-router\";\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport PopupScreen from \"../common/PopupScreen.vue\";\r\nimport { findApiByName } from \"../../../assets/js/apiUtil.js\";\r\n\r\nexport default {\r\n  mounted() {\r\n    const isRegistered = async () => {\r\n      try {\r\n        //get url API\r\n        const apiObject = findApiByName(\"order\", \"course\").url;\r\n        const res = await axios.get(apiObject, {\r\n          params: {\r\n            courseID: parseInt(this.orderData.courseID),\r\n            userID: parseInt(localStorage.getItem(\"idUser\")),\r\n          },\r\n        });\r\n\r\n        this.isRegistered = res.data;\r\n\r\n        if (this.isRegistered) {\r\n          this.isPopup = true;\r\n        }\r\n        else {\r\n          this.isPopup = false;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    isRegistered();\r\n\r\n    if (!this.isRegistered) {\r\n      // Convert initial time to seconds\r\n      let timeInSeconds = this.convertTimeToSeconds(this.countdown);\r\n\r\n      // Update the countdown every second\r\n      this.interval = setInterval(() => {\r\n        if (timeInSeconds > 0) {\r\n          timeInSeconds--;\r\n          this.countdown = this.convertSecondsToTime(timeInSeconds);\r\n\r\n          this.isPopup = true;\r\n        } else {\r\n          // Countdown reached zero, you can perform additional actions here\r\n          clearInterval(this.interval);\r\n          this.isPopup = false;\r\n\r\n          // Change contents in the child component\r\n          this.contents.title = \"Hết thời hạn thanh toán, vui lòng thử lại.!\";\r\n          this.contents.color = \"red-600\",\r\n            this.contents.icon = \"fa-solid fa-circle-exclamation\";\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      this.contents.title =\r\n        \"Bạn đã đăng ký khóa học này. Vui lòng theo dõi tại trang khóa học của bạn\";\r\n      this.contents.color = \"red-600\",\r\n        this.contents.icon = \"fa-solid fa-circle-exclamation\";\r\n    }\r\n  },\r\n  setup() {\r\n    const course = ref();\r\n    const route = useRoute();\r\n    const courseId = route.params.id;\r\n\r\n    const getCourse = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          \"http://localhost:8087/api/course/\" + courseId\r\n        );\r\n\r\n        course.value = res.data.data;\r\n\r\n        if (course.value.courseImages.length > 0) {\r\n          course.value.urlImage = course.value.courseImages[0].urlImage;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    getCourse();\r\n\r\n    return {\r\n      course,\r\n      getCourse,\r\n    };\r\n  },\r\n  methods: {\r\n    convertToVND(price) {\r\n      // Assuming amount is in the foreign currency\r\n      return price.toLocaleString(\"vi-VN\", {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n      });\r\n    },\r\n    convertTimeToSeconds(time) {\r\n      const [minutes, seconds] = time.split(\":\").map(Number);\r\n      return minutes * 60 + seconds;\r\n    },\r\n    convertSecondsToTime(seconds) {\r\n      const minutes = Math.floor(seconds / 60);\r\n      const remainingSeconds = seconds % 60;\r\n      return `${String(minutes).padStart(2, \"0\")}:${String(\r\n        remainingSeconds\r\n      ).padStart(2, \"0\")}`;\r\n    },\r\n\r\n    // submit order course\r\n    async submitFormOrderCourse() {\r\n      try {\r\n        this.orderData.totalPrice =\r\n          this.course.price - this.course.price * (this.course.reduce / 100);\r\n\r\n        const res = await axios\r\n          .post(\"http://localhost:8085/api/order\", this.orderData)\r\n          .then(async (data) => {\r\n            if (data.status == 200) {\r\n              this.paymentData.orderID = data.data.data.id;\r\n\r\n              this.paymentData.paymentMethod = \"Smart Banking Online\";\r\n\r\n              await axios\r\n                .post(\"http://localhost:8085/api/payment\", this.paymentData)\r\n                .then(async () => {\r\n                  this.orderData.status = \"Đăng ký thành công\";\r\n                  await axios\r\n                    .put(\r\n                      \"http://localhost:8085/api/order/\" + data.data.data.id,\r\n                      this.orderData\r\n                    )\r\n                    .then(async (response) => {\r\n                      if (response.status == 200) {\r\n                        this.isPopup = true;\r\n                        this.isRegistered = true;\r\n                        clearInterval(this.interval);\r\n                        this.contents.title =\r\n                          \"Đăng ký khóa học thành công. Vui lòng theo dõi khóa học tại trang khóa học của bạn.!!!\";\r\n                        this.contents.color = \"green-500\";\r\n                        this.contents.icon = \"fa-regular fa-circle-check\";\r\n                      }\r\n                    });\r\n                });\r\n            }\r\n          });\r\n        return res;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isRegistered: false,\r\n      paymentData: {\r\n        orderID: 0,\r\n        paymentMethod: \"\",\r\n      },\r\n      interval: null,\r\n      countdown: \"05:00\",\r\n      orderData: {\r\n        userID: localStorage.getItem(\"idUser\"),\r\n        courseID: this.$route.params.id,\r\n        totalPrice: 0,\r\n        codeOrder:\r\n          Math.random().toString(36).substring(2, 10) +\r\n          \"-\" +\r\n          this.$route.params.id +\r\n          \"-\" +\r\n          localStorage.getItem(\"idUser\"),\r\n        status: \"Đang xử lý\",\r\n      },\r\n      isPopup: false,\r\n      contents: {\r\n        title: \"Bạn đã đăng ký khóa học này. Vui lòng theo dõi tại trang khóa học của bạn\",\r\n        status: true,\r\n        color: \"red-600\",\r\n        icon: \"fa-solid fa-circle-exclamation\"\r\n      },\r\n    };\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.interval); // Clear the interval to prevent memory leaks\r\n  },\r\n  components: {\r\n    PopupScreen,\r\n  },\r\n  name: \"PaymentScreen\",\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}