{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_header_screen = _resolveComponent(\"header-screen\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_footer_screen = _resolveComponent(\"footer-screen\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_header_screen), _createVNode(_component_router_view), _createVNode(_component_footer_screen)]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_header_screen","_component_router_view","_component_footer_screen"],"sources":["F:\\VueJS\\thaylam\\Elearning\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <header-screen ></header-screen>\n    <router-view></router-view>\n    <footer-screen ></footer-screen>\n  </div>\n</template>\n\n<script>\n  import HeaderScreen from \"./components/client/HeaderScreen.vue\";\n  import FooterScreen from \"./components/client/FooterScreen.vue\";\n  import { ref } from \"vue\";\n  import axios from \"axios\";\n\n\nexport default {\n  created () {\n  },\n  setup(props, { emit }){\n    const courses = ref([]);\n\n    const page = ref(0);\n    const records = 6;\n    const totalPage = ref(0);\n    const search = ref('');\n    const priceFrom = ref();\n    const priceTo = ref();\n    const education = ref();\n    const category = ref();\n\n    const oneCategoryChange = (value) => {\n      category.value = value;\n\n      getAllCourses();\n    }\n\n    const oneEducationChange = (value) => {\n      education.value = value;\n\n      getAllCourses();\n    }\n\n    const onPriceFromChanged = (value) => {\n      priceFrom.value = value;\n\n      getAllCourses();\n    }\n\n    const onPriceToChanged = (value) => {\n      priceTo.value = value;\n\n      getAllCourses();\n    }\n\n    const onSearchChange = (keyword) => {\n      search.value = keyword;\n\n      getAllCourses();\n    }\n\n    const getAllCourses = async () => {\n      try\n      {\n        const res = await axios.get(\"http://localhost:8087/api/course\", {\n          params: {\n            page: page.value,\n            records: records,\n            search: search.value,\n            priceFrom: priceFrom.value,\n            priceTo: priceTo.value,\n            education: education.value,\n            category: category.value\n          }\n        });\n\n        courses.value = res.data.data;\n        totalPage.value = res.data.totalPage;\n        \n        // Phát ra sự kiện để thông báo danh sách khóa học mới cho component con\n        emit(\"coursesChanged\", courses.value);\n\n      } catch (error) {\n        console.log(error)\n      }\n    }\n\n    const onPageChanged  = (newPage) => {\n      page.value = newPage;\n      getAllCourses();\n    }\n\n    getAllCourses();\n\n    return {\n      totalPage,\n      courses,\n      onPageChanged,\n      oneEducationChange,\n      onSearchChange,\n      onPriceFromChanged,\n      onPriceToChanged,\n      oneCategoryChange\n    }\n  },\n  name: 'App',\n  components: {\n    HeaderScreen,\n    FooterScreen\n  },\n  data(){\n    return{\n    };\n  }\n}\n</script>\n"],"mappings":";;;;;uBACEA,mBAAA,CAIM,cAHJC,YAAA,CAAgCC,wBAAA,GAChCD,YAAA,CAA2BE,sBAAA,GAC3BF,YAAA,CAAgCG,wBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}