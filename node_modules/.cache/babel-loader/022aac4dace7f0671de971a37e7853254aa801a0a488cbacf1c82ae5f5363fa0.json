{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-2/3 m-auto max-sm:w-full max-sm:px-5 sm:px-3 lg:px-0 mt-14\"\n};\nconst _hoisted_2 = {\n  class: \"w-full flex my-5 max-sm:flex-col\"\n};\nconst _hoisted_3 = {\n  class: \"ml-6 w-4/5 max-sm:mt-4 bg-white max-sm:ml-0 shadow-md\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-4\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-3xl font-semibold flex justify-center text-blue-900\"\n}, \"Thông tin chuyên đề\")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"flex justify-between max-sm:flex-col\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"py-2 font-semibold\"\n}, [/*#__PURE__*/_createTextVNode(\"Tên bài giảng: (Số lượng bài giảng được phép \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-red-600\"\n}, \"2\"), /*#__PURE__*/_createTextVNode(\" )\")], -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"py-2 font-semibold\"\n}, \"Chọn video giảng:\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"relative h-8 border border-blue-900 w-full rounded max-sm:w-full\"\n};\nconst _hoisted_9 = {\n  class: \"absolute flex right-0 items-center pr-1 h-full w-full\",\n  for: \"filevideocourse\"\n};\nconst _hoisted_10 = {\n  class: \"text-left w-full pl-2 text-gray-400\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-regular fa-folder-open cursor-pointer text-blue-900\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex justify-end w-full my-4 max-sm:w-full\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-gray-400 text-white p-2 w-1/5 mr-4 rounded text-sm max-sm:mr-2\"\n}, \"Hủy\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-blue-900 text-white p-2 w-2/5 rounded text-sm max-sm:mr-0\"\n}, \"Lưu bài giảng\")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_sidebarteacher_screen = _resolveComponent(\"sidebarteacher-screen\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_sidebarteacher_screen), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.uploadLesson && $options.uploadLesson(...args), [\"prevent\"])),\n    class: \"w-full flex flex-col justify-center max-sm:w-full max-sm:p-2\",\n    style: {\n      \"margin-left\": \"50%\",\n      \"transform\": \"translateX(-50%)\"\n    }\n  }, [_createCommentVNode(\" <span class=\\\"py-2 font-semibold\\\">Mã khóa học:</span>\\r\\n                        <input class=\\\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\\\" type=\\\"text\\\" placeholder=\\\"Mã khóa học:\\\">\\r\\n    \\r\\n                        <span class=\\\"py-2 font-semibold\\\">Mã chuyên đề:</span>\\r\\n                        <input class=\\\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\\\" type=\\\"text\\\" placeholder=\\\"Mã khóa học:\\\">\\r\\n         \"), _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.lesson.name = $event),\n    class: \"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\",\n    type: \"text\",\n    placeholder: \"Tên chuyên đề:\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.lesson.name]]), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"label\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, _toDisplayString($data.selectedFile), 1 /* TEXT */), _hoisted_11, _createElementVNode(\"input\", {\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.handleFileChange && $options.handleFileChange(...args)),\n    class: \"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full hidden\",\n    type: \"file\",\n    id: \"filevideocourse\",\n    placeholder: \"Bài giảng\"\n  }, null, 32 /* NEED_HYDRATION */)])]), _hoisted_12], 32 /* NEED_HYDRATION */)])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_sidebarteacher_screen","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_cache","_withModifiers","args","$options","uploadLesson","style","_createCommentVNode","_hoisted_6","$data","lesson","name","$event","type","placeholder","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","selectedFile","_hoisted_11","onChange","handleFileChange","id","_hoisted_12"],"sources":["F:\\VueJS\\Elearning-Frontend\\Elearning\\src\\components\\client\\Profession\\CourseVideoScreen.vue"],"sourcesContent":["<template>\r\n    <div class=\"w-2/3 m-auto max-sm:w-full max-sm:px-5 sm:px-3 lg:px-0 mt-14\">\r\n        <div class=\"w-full flex my-5 max-sm:flex-col\">\r\n            <sidebarteacher-screen></sidebarteacher-screen>\r\n            <div class=\"ml-6 w-4/5 max-sm:mt-4 bg-white max-sm:ml-0 shadow-md \">\r\n                <div class=\"p-4\">\r\n                    <p class=\"text-3xl font-semibold flex justify-center text-blue-900\">Thông tin chuyên đề</p>\r\n                </div>\r\n                <div class=\"flex justify-between max-sm:flex-col\">\r\n                    <form @submit.prevent=\"uploadLesson\" class=\"w-full flex flex-col justify-center max-sm:w-full max-sm:p-2\" style=\"margin-left: 50%; transform: translateX(-50%);\">\r\n                        <!-- <span class=\"py-2 font-semibold\">Mã khóa học:</span>\r\n                        <input class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\" type=\"text\" placeholder=\"Mã khóa học:\">\r\n    \r\n                        <span class=\"py-2 font-semibold\">Mã chuyên đề:</span>\r\n                        <input class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\" type=\"text\" placeholder=\"Mã khóa học:\">\r\n         -->\r\n                        <span class=\"py-2 font-semibold\">Tên bài giảng: (Số lượng bài giảng được phép <span class=\"text-red-600\">2</span> )</span>\r\n                        <input v-model=\"lesson.name\" class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full\" type=\"text\" placeholder=\"Tên chuyên đề:\">\r\n                        \r\n    \r\n                        <span class=\"py-2 font-semibold\">Chọn video giảng:</span>\r\n                        <div class=\"relative h-8 border border-blue-900 w-full rounded max-sm:w-full\">\r\n                            <label class=\"absolute flex right-0 items-center pr-1 h-full w-full\" for=\"filevideocourse\">\r\n                                <p class=\"text-left w-full pl-2 text-gray-400\">{{ selectedFile }}</p>\r\n                                <i class=\"fa-regular fa-folder-open cursor-pointer text-blue-900\"></i>\r\n                                <input @change=\"handleFileChange\" class=\"outline-none border px-2 border-blue-900 w-full h-8 rounded max-sm:w-full hidden\" type=\"file\" id=\"filevideocourse\" placeholder=\"Bài giảng\">\r\n                            </label>\r\n                        </div>\r\n                        \r\n                        <div class=\"flex justify-end w-full my-4 max-sm:w-full\">\r\n                            <button class=\"bg-gray-400  text-white p-2 w-1/5 mr-4 rounded text-sm max-sm:mr-2\">Hủy</button>\r\n                            <button class=\"bg-blue-900 text-white p-2 w-2/5 rounded text-sm max-sm:mr-0\">Lưu bài giảng</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                \r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n</template>\r\n<script>\r\nimport SidebarteacherScreen from './SidebarteacherScreen.vue';\r\nimport axios from \"axios\";\r\nimport { useRoute } from 'vue-router';\r\n\r\n\r\nexport default {\r\n  setup(){\r\n    const route = useRoute();\r\n    const thematicID = route.params.id;\r\n\r\n    return {\r\n      thematicID\r\n    }\r\n  },\r\n    components: {\r\n        SidebarteacherScreen,\r\n    },\r\n    data() {\r\n      return {\r\n        selectedFile: null, // Tên mặc định khi chưa có tệp nào được chọn\r\n        lesson:{\r\n          name : \"\",\r\n          thematicID : this.$route.params.id,\r\n          urlVideo : \"\",\r\n          duration : \"\"\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n\r\n      async uploadLesson(){\r\n        try {\r\n          if(this.selectedFile != null)\r\n          {\r\n            //create params send with api\r\n            const formData = new FormData();\r\n            formData.append('file', this.selectedFile);\r\n\r\n            //send API upload file\r\n            await axios.post(\"http://localhost:8087/api/upload\", formData, {\r\n              headers: {\r\n                'Content-Type': 'multipart/form-data', // Important for handling files\r\n              },\r\n            }).then((response) => {\r\n              if(response.status == 200)\r\n              {\r\n                const res = response.data.data;\r\n                this.lesson.duration = res.duration;\r\n                this.lesson.urlVideo = res.url;\r\n                \r\n                axios.post(\"http://localhost:8087/api/course-video\", this.lesson).then((res) => {\r\n                  console.log(res)\r\n                })\r\n              }\r\n            })\r\n          }\r\n        } catch (error) {\r\n          console.error('Error uploading file:', error);\r\n        }\r\n      },\r\n\r\n      handleFileChange(event) {\r\n        const inputFile = event.target;\r\n        if (inputFile.files.length > 0) {\r\n          // Lấy tên của tệp đầu tiên nếu có\r\n          this.selectedFile = event.target.files[0];\r\n        } else {\r\n          this.selectedFile = \"Chưa chọn tệp\";\r\n        }\r\n      },\r\n  },\r\n};\r\n\r\n</script>\r\n"],"mappings":";;EACSA,KAAK,EAAC;AAA8D;;EAChEA,KAAK,EAAC;AAAkC;;EAEpCA,KAAK,EAAC;AAAwD;gCAC/DC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAK,I,aACZC,mBAAA,CAA2F;EAAxFD,KAAK,EAAC;AAA0D,GAAC,qBAAmB,E;;EAEtFA,KAAK,EAAC;AAAsC;gCAQzCC,mBAAA,CAA0H;EAApHD,KAAK,EAAC;AAAoB,I,8BAAC,+CAA6C,G,aAAAC,mBAAA,CAAmC;EAA7BD,KAAK,EAAC;AAAc,GAAC,GAAC,G,8BAAO,IAAE,E;gCAInHC,mBAAA,CAAyD;EAAnDD,KAAK,EAAC;AAAoB,GAAC,mBAAiB;;EAC7CA,KAAK,EAAC;AAAkE;;EAClEA,KAAK,EAAC,uDAAuD;EAACE,GAAG,EAAC;;;EAClEF,KAAK,EAAC;AAAqC;iCAC9CC,mBAAA,CAAsE;EAAnED,KAAK,EAAC;AAAwD;iCAKzEC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAA4C,I,aACnDC,mBAAA,CAA+F;EAAvFD,KAAK,EAAC;AAAoE,GAAC,KAAG,G,aACtFC,mBAAA,CAAmG;EAA3FD,KAAK,EAAC;AAA8D,GAAC,eAAa,E;;;uBA9BlHG,mBAAA,CAsCM,OAtCNC,UAsCM,GArCFH,mBAAA,CAoCM,OApCNI,UAoCM,GAnCFC,YAAA,CAA+CC,gCAAA,GAC/CN,mBAAA,CAgCM,OAhCNO,UAgCM,GA/BFC,UAEM,EACNR,mBAAA,CA0BM,OA1BNS,UA0BM,GAzBFT,mBAAA,CAwBO;IAxBAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;IAAEd,KAAK,EAAC,8DAA8D;IAACiB,KAAsD,EAAtD;MAAA;MAAA;IAAA;MACtGC,mBAAA,ueAKZ,EACYC,UAA0H,E,gBAC1HlB,mBAAA,CAAwJ;+DAAxImB,KAAA,CAAAC,MAAM,CAACC,IAAI,GAAAC,MAAA;IAAEvB,KAAK,EAAC,2EAA2E;IAACwB,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iDAAvHL,KAAA,CAAAC,MAAM,CAACC,IAAI,E,GAG3BI,UAAyD,EACzDzB,mBAAA,CAMM,OANN0B,UAMM,GALF1B,mBAAA,CAIQ,SAJR2B,UAIQ,GAHJ3B,mBAAA,CAAqE,KAArE4B,WAAqE,EAAAC,gBAAA,CAAnBV,KAAA,CAAAW,YAAY,kBAC9DC,WAAsE,EACtE/B,mBAAA,CAAoL;IAA5KgC,QAAM,EAAArB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAmB,gBAAA,IAAAnB,QAAA,CAAAmB,gBAAA,IAAApB,IAAA,CAAgB;IAAEd,KAAK,EAAC,kFAAkF;IAACwB,IAAI,EAAC,MAAM;IAACW,EAAE,EAAC,iBAAiB;IAACV,WAAW,EAAC;yCAIhLW,WAGM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}